<!-- 存放公用的头文件，和按需加载的文件 -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="zh-CN">
<head th:fragment="head">
    <meta charset="UTF-8"/>
    <!--TODO需要修改标题-->
    <title th:text="${title}"></title>

    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"/>

    <!-- Font Awesome Icons -->
    <link rel="stylesheet" th:href="@{/AdminLTE-3.0.2/plugins/fontawesome-free/css/all.min.css}">
    <!-- IonIcons -->
    <link rel="stylesheet" th:href="@{/AdminLTE-3.0.2/dist/css/ionicons.min.css}">
    <!-- Theme style -->
    <link rel="stylesheet" th:href="@{/AdminLTE-3.0.2/dist/css/adminlte.min.css}">
    <!-- Google Font: Source Sans Pro -->
    <link rel="stylesheet" th:href="@{/AdminLTE-3.0.2/dist/css/google-font.css}">
    <link rel="stylesheet" th:href="@{/AdminLTE-3.0.2/plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css}">

    <!--<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">-->
    <link rel="stylesheet" th:href="@{/css/weui.css}"/>
    <link rel="stylesheet" th:href="@{/css/animate.css}"/>
    <link rel="stylesheet" th:href="@{/css/iconfont/iconfont.css}"/>
    <link rel="stylesheet" th:href="@{/css/style.css?v=4}"/>

    <!--[if !IE]> -->
    <script th:src="@{/js/jquery-3.4.1.min.js}"></script>
    <!-- <![endif]-->
    <!--[if IE]>
    <script th:src="@{js/jquery-1.11.3.min.js}"></script>
    <![endif]-->

    <!--bootstrap-->
    <script th:src="@{/AdminLTE-3.0.2/plugins/bootstrap/js/bootstrap.bundle.min.js}" ></script>

    <!-- AdminLTE -->
    <script th:src="@{/AdminLTE-3.0.2/dist/js/adminlte.js}" defer></script>
    <script th:src="@{/js/weui.min.js}" ></script>
    <script th:src="@{/js/modal-animate.js}" ></script>
    <script th:src="@{/AdminLTE-3.0.2/plugins/sweetalert2/sweetalert2.min.js}"></script>


    <script th:src="@{/js/common.js?v=3}" ></script>

    <script th:inline="javascript">
        const ctx = location.protocol+'//'+location.host+[[${#request.getContextPath()}]]+'/';
        console.log(ctx);
        const Toast = Swal.mixin({
            toast: true,
            position: 'top',
            showConfirmButton: false,
            timer: 3000,
            padding:'.5rem'
        });
        $(function () {
            $('.show-login-modal').click(function () {
                $.modal.showLoginModal()
            })
            $('.show-pay-modal').click(function () {
                $.modal.showPayModal()
            })
            // 添加下拉框的hover事件
            $('.dropdown').hover(function() {
                $(this).addClass('show')
                $('.dropdown-menu',this).addClass('show')
            }, function() {
                $(this).removeClass('show')
                $('.dropdown-menu',this).removeClass('show')

            });

            let user = [[${session.user}]];
            if(user){
                $.bussiness.refreshUserAvatar(ctx.replace(/\/$/,'')+user.avatar);
            }
        })
    </script>

</head>
<!-- plugin:zTree -->
<div th:fragment="zTree">
    <link rel="stylesheet" type="text/css" th:href="@{/plugins/zTree_v3/css/zTreeStyle/zTreeStyle.css}"/>
    <script th:src="@{/plugins/zTree_v3/js/jquery.ztree.core.js}"></script>
</div>

<!-- plugin:laydate -->
<div th:fragment="laydate">
    <script th:src="@{/plugins/laydate/laydate_extend.js}"></script>
</div>

<!-- plugin:summernote -->
<div th:fragment="summernote">
    <link rel="stylesheet" th:href="@{/AdminLTE-3.0.2/plugins/summernote/summernote-bs4.css}"/>
    <script th:src="@{/AdminLTE-3.0.2/plugins/summernote/summernote-bs4.min.js}"></script>
    <script th:src="@{/AdminLTE-3.0.2/plugins/summernote/lang/summernote-zh-CN.min.js}"></script>
</div>

<!-- plugin:echarts -->
<div th:fragment="echarts">
    <script th:src="@{/js/echarts.min.js}"></script>
</div>

<!-- plugin:bootstrap-table -->
<div th:fragment="bootstrap-table">
    <link rel="stylesheet" th:href="@{/css/bootstrap-table.min.css}"/>
    <script th:src="@{/js/bootstrap-table.min.js}" ></script>
    <script th:src="@{/js/bootstrap-table-zh-CN.min.js}" ></script>
</div>

<!-- plugin:validate -->
<div th:fragment="validate">
    <script th:src="@{/plugins/validate/jquery.validate.min.js}"></script>
    <script th:src="@{/plugins/validate/messages_zh.js}"></script>
</div>

<!-- plugin:sweetalert2 -->
<div th:fragment="sweetalert2">
    <link rel="stylesheet" th:href="@{/AdminLTE-3.0.2/plugins/sweetalert2-theme-bootstrap-4/bootstrap-4.min.css}">
    <script th:src="@{/AdminLTE-3.0.2/plugins/sweetalert2/sweetalert2.min.js}"></script>
</div>

<!-- plugin:toastr -->
<div th:fragment="toastr">
    <link rel="stylesheet" th:href="@{/AdminLTE-3.0.2/plugins/toastr/toastr.min.css}">
    <script th:src="@{/AdminLTE-3.0.2/plugins/toastr/toastr.min.js}"></script>
</div>

</html>
